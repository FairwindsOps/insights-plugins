apiVersion: cert-manager.io/v1
kind: Certificate
metadata:
  name: insights-event-watcher-webhook-cert
  namespace: insights-agent
spec:
  secretName: insights-event-watcher-webhook-tls
  issuerRef:
    name: insights-webhook-issuer
    kind: ClusterIssuer
  dnsNames:
  - insights-agent-insights-event-watcher.insights-agent.svc
  - insights-agent-insights-event-watcher.insights-agent.svc.cluster.local
  - insights-agent-insights-event-watcher
  - insights-agent-insights-event-watcher.insights-agent
  - insights-agent-insights-event-watcher.insights-agent.svc
  - insights-agent-insights-event-watcher.insights-agent.svc.cluster.local
  - localhost
  - 127.0.0.1
  duration: 8760h # 1 year
  renewBefore: 720h # 30 days
  usages:
  - digital signature
  - key encipherment
  - server auth
  - client auth
