# This Service will fail both rules in this policy,
# if the Kubernetes cluster has a loadbalancer provisioner.
# See the install-metallb.sh script.
apiVersion: v1
kind: Service
metadata:
  name: policy-test
  namespace: default
  labels:
    app: myapp
spec:
  type: LoadBalancer
  externalIPs:
    # This should cause the policy to fail for rule `vulnerable`.
    - 192.0.2.5
  ports:
    - name: http
      protocol: TCP
      port: 80
      targetPort: http
  selector:
    app: myapp
